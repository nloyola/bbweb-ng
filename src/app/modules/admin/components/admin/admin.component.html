<div class="pb-2 mt-4 mb-2 border-bottom">
  <h1 i18n>Administration</h1>
</div>

<div *ngIf="permissions$ | async as permissions">
  <div
    class="d-flex flex-row flex-wrap justify-content-center"
    *ngIf="permissions.hasAdminRole; else notPermitted"
  >
    <!-- STUDY ADMIN -->
    <div class="card bbweb" *ngIf="permissions.hasStudyAdminRole">
      <h5 class="card-header bg-primary text-light">
        <ng-container i18n>Study Administration</ng-container>
      </h5>
      <div class="card-body">
        <p i18n>Add a new study or make changes to existing studies.</p>
      </div>
      <div class="card-footer">
        <a routerLink="studies" class="btn btn-primary" i18n>Select</a>
      </div>
    </div>

    <!-- CENTRE ADMIN -->
    <div class="card bbweb" *ngIf="permissions.hasCentreAdminRole">
      <h5 class="card-header bg-primary text-light">
        <ng-container i18n>Centre Administration</ng-container>
      </h5>
      <div class="card-body">
        <p i18n>Add a new centre or make changes to existing centres.</p>
      </div>
      <div class="card-footer">
        <a routerLink="centres" class="btn btn-primary" i18n>Select</a>
      </div>
    </div>

    <!-- ACCESS ADMIN -->
    <div class="card bbweb" *ngIf="permissions.hasUserAdminRole">
      <h5 class="card-header bg-primary text-light">
        <ng-container i18n>User Administration</ng-container>
      </h5>
      <div class="card-body">
        <p i18n>Activate users, lock out existing users, or manage user permissions.</p>
      </div>
      <div class="card-footer">
        <a routerLink="access" class="btn btn-primary" i18n>Select</a>
      </div>
    </div>
  </div>
</div>

<router-outlet></router-outlet>

<ng-template #notPermitted>
  <div class="row">
    <div class="col-md-12">
      <div class="alert alert-warning">
        <mat-icon>warning</mat-icon>
        <span i18n>You do not have the correct permissions for this page.</span>
      </div>
    </div>
  </div>
</ng-template>
